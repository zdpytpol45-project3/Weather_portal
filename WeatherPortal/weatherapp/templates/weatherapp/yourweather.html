{% extends 'weatherapp/base_weather.html' %}
{% load static %}

{% block content %}

<div class="user_information" xmlns="http://www.w3.org/1999/html">
    <div>
    <h2 class="user_hello">Hello, {{ user.username|default:'Guest' }} !</h2>
    </div>
    <div class="user_button">
        {% if user.is_authenticated %}
            <a class="btn btn-danger" href="{% url 'logout' %}" role="button">Logout</a>
            <a class="btn btn-danger" href="{% url 'password_change' %}" role="button">Change Password</a>
        {% else %}
            <a class="btn btn-danger" href="{% url 'login' %}" role="button">Login</a>
            <a class="btn btn-danger" href="{% url 'register' %}" role="button">Register</a>
        {% endif %}
    </div>

</div>
{% endblock %}

{% block section_one %}
<body>
    <section class="section">
        <div class="form_with_notification">
            <form method="POST">
                {% csrf_token %}
                <div class="city_form_without_notification">
                    <div class="get_from_add_city" id="myInput">
                        {{ form.name }}
                    </div>
                    <input type="submit" value="Show City">
                </div>
                {% if message_for_user %}
                    <div class="notification_for_user">{{ message_for_user }}</div>
                {% endif %}
            </form>
        </div>
    </section>
    <section>
        <div class="list-group">
        {% for city_location in cities_locations %}
            <div>
                 <a href="{% url 'add_chosen_location' city_location.number %}" class="list-group-item list-group-item-action">
                {{ city_location.city }}
                lat: {{ city_location.lat }}
                lon: {{ city_location.lon }}
                country: {{ city_location.country }}
                state: {{ city_location.state }}
                 </a>
            </div>
        {% endfor %}

    </section>
</body>
{% endblock %}
